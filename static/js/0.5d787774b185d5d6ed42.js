webpackJsonp([0],{"30Od":function(t,a,s){"use strict";s.d(a,"a",function(){return e});var e=new(s("7+uW").default)},"41S6":function(t,a){},"7Py7":function(t,a,s){"use strict";var e={name:"errorr",props:{errors:{type:Array,defaults:[]}},computed:{labelError:function(){return this.errors&&this.errors[0]?this.errors[0]:""}}},i={render:function(){var t=this.$createElement,a=this._self._c||t;return this.labelError?a("div",[a("label",{staticClass:"errorrs"},[this._v(this._s(this.labelError))])]):this._e()},staticRenderFns:[]};var r=s("VU/8")(e,i,!1,function(t){s("jCGP")},"data-v-5e7a9487",null);a.a=r.exports},"8Xbe":function(t,a,s){"use strict";a.a={data:function(){return{formAdd:null,formEdit:null,formDetail:null,formDelete:null,modalProps:{width:"70%",height:"auto"},baseUrl:"https://vand-backend-production.up.railway.app/",defautlImage:"https://www.energyfit.com.mk/wp-content/plugins/ap_background/images/default/default_large.png"}},methods:{getImageUrl:function(t){return t?this.baseUrl+t:this.defautlImage},openFormAdd:function(){this.$modal.show(this.formAdd,{},this.modalProps)},openFormEdit:function(t){var a={params:{}};t&&(a.params.id=t),this.$modal.show(this.formEdit,a,this.modalProps)},openFormDetail:function(t){var a={params:{}};t&&(a.params.id=t),this.$modal.show(this.formDetail,a,this.modalProps)},deleteForm:function(t){var a={params:{}};t&&(a.params.id=t),this.$modal.show(this.formDelete,a,{width:"400px",height:"150px"})},close:function(){this.$modal.hideAll()}}}},HN3k:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("7Py7"),i=s("6Twa"),r=s("8Xbe"),o=s("30Od"),n={name:"ProductForm",mixins:[i.a,r.a],components:{Errorr:e.a},data:function(){return{dataForm:{name:"",description:"",image:"",price:"",storeId:""},file:null,errors:{},options:[]}},computed:{isEdit:function(){return!(!this.$attrs.params||!this.$attrs.params.id)}},mounted:function(){this.loadDataStore("/get_store_all/"+this.userData.id),this.isEdit&&this.loadDataForm()},methods:{loadDataStore:function(t){var a=this;this.$api.get(t).then(function(t){var s=t.data.data;s&&s.length>0&&s.forEach(function(t){a.options.push({value:t.id,text:t.name})})}).catch(function(t){console.log(t)})},loadDataForm:function(){var t=this;this.$api.get("/get_product_detail/"+this.$attrs.params.id).then(function(a){t.dataForm=a.data.data}).catch(function(t){console.log(t)})},save:function(){var t=this,a="/create_product";this.isEdit&&(a="/edit_product/"+this.$attrs.params.id);var s=new FormData;s.append("name",this.dataForm.name),s.append("description",this.dataForm.description),s.append("price",this.dataForm.price),s.append("image",this.file),s.append("storeId",this.dataForm.storeId),s.append("userId",this.userData.id),this.$api.post(a,s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){o.a.$emit("reloadProduct"),t.close()}).catch(function(a){t.errors=a,console.error(a)})}}},c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"form-wrap"},[s("h1",{staticClass:"header-form"},[t._v(t._s(t.isEdit?"Edit Product":"Add Product"))]),t._v(" "),s("div",{staticClass:"container mt-5 form-group-app"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Name\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[s("b-form-input",{attrs:{placeholder:"Enter your product name"},model:{value:t.dataForm.name,callback:function(a){t.$set(t.dataForm,"name",a)},expression:"dataForm.name"}}),t._v(" "),s("errorr",{attrs:{errors:t.errors.name}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Description\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[s("b-form-input",{attrs:{placeholder:"Enter your product description"},model:{value:t.dataForm.description,callback:function(a){t.$set(t.dataForm,"description",a)},expression:"dataForm.description"}}),t._v(" "),s("errorr",{attrs:{errors:t.errors.description}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Image\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[s("b-form-file",{staticClass:"mt-3",attrs:{plain:""},model:{value:t.file,callback:function(a){t.file=a},expression:"file"}}),t._v(" "),t.file?s("div",{staticClass:"mt-3"},[t._v("Selected file: "+t._s(t.file?t.file.name:""))]):t._e(),t._v(" "),null==t.file&&""!=t.dataForm.image?s("img",{staticClass:"imageCustom",attrs:{src:t.getImageUrl(t.dataForm.image),onerror:"this.onerror=null;this.src='https://www.energyfit.com.mk/wp-content/plugins/ap_background/images/default/default_large.png';"}}):t._e()],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Price\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[s("b-form-input",{attrs:{type:"number",placeholder:"Enter your prouduct price"},model:{value:t.dataForm.price,callback:function(a){t.$set(t.dataForm,"price",a)},expression:"dataForm.price"}}),t._v(" "),s("errorr",{attrs:{errors:t.errors.price}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Store\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[t.options&&t.options.length>0?s("b-form-select",{attrs:{options:t.options},model:{value:t.dataForm.storeId,callback:function(a){t.$set(t.dataForm,"storeId",a)},expression:"dataForm.storeId"}}):s("label",{staticClass:"text-danger"},[t._v("Please create a store before creating a product")]),t._v(" "),s("errorr",{attrs:{errors:t.errors.storeId}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"}),t._v(" "),s("div",{staticClass:"col-6 text-center"},[s("button",{staticClass:"btn btn-success btn-sm m-2",on:{click:t.save}},[t._v("Save")]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm m-2",on:{click:t.close}},[t._v("Close")])])])])])},staticRenderFns:[]};var l=s("VU/8")(n,c,!1,function(t){s("41S6")},"data-v-65146644",null).exports,d={name:"ProductDetail",mixins:[i.a,r.a],components:{Errorr:e.a},data:function(){return{dataForm:{name:"",description:"",image:"",price:"",storeId:""},file:null,errors:{},options:[],formEdit:l}},mounted:function(){this.loadDataStore("/get_store_all/"+this.userData.id),this.loadDataForm()},methods:{editProduct:function(){this.$modal.hideAll(),this.openFormEdit(this.$attrs.params.id)},getStoreNameById:function(t){if(t&&this.options&&this.options.length>0){var a=this.options.find(function(a){return a.id==t});if(a)return a.name}return"-"},loadDataStore:function(t){var a=this;this.$api.get(t).then(function(t){a.options=t.data.data}).catch(function(t){console.log(t)})},loadDataForm:function(){var t=this;this.$api.get("/get_product_detail/"+this.$attrs.params.id).then(function(a){t.dataForm=a.data.data}).catch(function(t){console.log(t)})}}},u={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"form-wrap"},[s("h1",{staticClass:"header-form"},[t._v("Product detail")]),t._v(" "),s("div",{staticClass:"container mt-5 form-group-app"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Name\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[t._v("\n        "+t._s(t.dataForm.name)+"\n      ")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Description\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[t._v("\n        "+t._s(t.dataForm.description)+"\n      ")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Image\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[s("img",{staticClass:"imageCustom",attrs:{src:t.getImageUrl(t.dataForm.image),onerror:"this.onerror=null;this.src='https://www.energyfit.com.mk/wp-content/plugins/ap_background/images/default/default_large.png';"}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Price\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[t._v("\n        "+t._s(t.dataForm.price)+"\n      ")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[t._v("\n        Store\n      ")]),t._v(" "),s("div",{staticClass:"col-6"},[t._v("\n        "+t._s(t.getStoreNameById(t.dataForm.storeId))+"\n      ")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"}),t._v(" "),s("div",{staticClass:"col-6 text-center"},[s("button",{staticClass:"btn btn-success btn-sm m-2",on:{click:t.editProduct}},[t._v("Edit")]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm m-2",on:{click:t.close}},[t._v("Close")])])])])])},staticRenderFns:[]};var m=s("VU/8")(d,u,!1,function(t){s("zWR1")},"data-v-18c30ea5",null).exports,p=s("QFKi"),v={name:"ProductList",mixins:[r.a,i.a],props:{storeId:{type:[Number,String],defaults:0}},data:function(){return{items:[],formAdd:l,formEdit:l,formDetail:m,formDelete:p.a,breadcrumb:[{text:"Home",href:"/"},{text:"Product management"}],search:"",pagination:{},pages:[],listStore:[],loading:!1}},watch:{search:function(t){this.storeId?this.loadData("/get_product_by_store_id/"+this.storeId+"?search="+t):this.loadData("/get_product/"+this.userData.id+"?search="+t)}},created:function(){var t=this;o.a.$on("reloadProduct",function(){t.storeId?t.loadData("/get_product_by_store_id/"+t.storeId):t.loadData("/get_product/"+t.userData.id)})},destroyed:function(){o.a.$destroy("reloadProduct")},mounted:function(){this.loadDataStore("/get_store_all/"+this.userData.id),this.storeId?this.loadData("/get_product_by_store_id/"+this.storeId):this.loadData("/get_product/"+this.userData.id)},methods:{getStoreNameById:function(t){if(t&&this.listStore&&this.listStore.length>0){var a=this.listStore.find(function(a){return a.id==t});if(a)return a.name}return"-"},loadDataStore:function(t){var a=this;this.$api.get(t).then(function(t){a.listStore=t.data.data}).catch(function(t){console.log(t)})},loadData:function(t){var a=this;this.loading=!0,this.$api.get(t).then(function(t){a.items=t.data.data.data,a.pagination=t.data.data,a.pages=[];for(var s=1;s<=t.data.data.last_page;s++)a.pages.push(s);a.loading=!1}).catch(function(t){a.loading=!1,console.log(t)})}}},h={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"store"},[s("div",{staticClass:"row"},[t.storeId?t._e():s("div",{staticClass:"col-12 d-flex justify-content-between align-items-center mb-5"},[s("div",[t._m(0),t._v(" "),s("b-breadcrumb",{attrs:{items:t.breadcrumb}})],1)]),t._v(" "),s("div",{staticClass:"search"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search by name",width:"200px"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}})]),t._v(" "),s("b-button",{staticClass:"btn-sm",staticStyle:{height:"30px"},attrs:{variant:"primary"},on:{click:t.openFormAdd}},[s("i",{staticClass:"bi bi-plus-lg"}),t._v(" Add new")])],1),t._v(" "),t.loading?s("div",{staticClass:"col-12 mt-5"},[s("b-skeleton-table",{attrs:{rows:5,columns:4,"table-props":{bordered:!0,striped:!0}}}),t._v(" "),s("b-skeleton-table",{attrs:{rows:5,columns:4,"table-props":{bordered:!0,striped:!0}}})],1):s("div",{staticClass:"col-12 row mt-5"},[t._l(t.items,function(a,e){return s("div",{key:e,staticClass:"col-3 mb-2"},[s("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{tag:"article"}},[s("img",{staticClass:"card-img-top",attrs:{src:t.getImageUrl(a.image),onerror:"this.onerror=null;this.src='https://www.energyfit.com.mk/wp-content/plugins/ap_background/images/default/default_large.png';"}}),t._v(" "),s("b-card-title",{staticClass:"text-eslip"},[t._v("\n            "+t._s(a.name)+"\n          ")]),t._v(" "),s("b-card-text",{staticClass:"text-eslip"},[t._v("\n            "+t._s(a.description)+"\n          ")]),t._v(" "),s("b-card-text",{staticClass:"text-eslip"},[s("i",{staticClass:"bi bi-currency-dollar"}),t._v(" "+t._s(a.price)+" dolar\n          ")]),t._v(" "),s("b-card-text",{staticClass:"text-eslip",attrs:{title:t.getStoreNameById(a.storeId)}},[s("i",{staticClass:"bi bi-shop"}),t._v(" "+t._s(t.getStoreNameById(a.storeId))+"\n          ")]),t._v(" "),s("div",{staticClass:"group-button"},[s("b-button",{staticClass:"btn-sm",attrs:{variant:"success"},on:{click:function(s){return t.openFormDetail(a.id)}}},[s("i",{staticClass:"bi bi-search"})]),t._v(" "),s("b-button",{staticClass:"btn-sm",attrs:{variant:"warning"},on:{click:function(s){return t.openFormEdit(a.id)}}},[s("i",{staticClass:"bi bi-pencil-square"})]),t._v(" "),s("b-button",{staticClass:"btn-sm",attrs:{variant:"danger"},on:{click:function(s){return t.deleteForm(a.id)}}},[s("i",{staticClass:"bi bi-trash-fill"})])],1)],1)],1)}),t._v(" "),s("nav",{attrs:{"aria-label":"Page navigation"}},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",on:{click:function(a){return a.preventDefault(),t.loadData(t.storeId?"/get_product_by_store_id/"+t.storeId+"?page=1":"/get_product/"+t.userData.id+"?page=1")}}},[s("i",{staticClass:"bi bi-chevron-compact-left"})])]),t._v(" "),t._l(t.pages,function(a){return s("li",{key:a,staticClass:"page-item",class:{active:a==t.pagination.current_page}},[s("a",{staticClass:"page-link",on:{click:function(s){return s.preventDefault(),t.loadData(t.storeId?"/get_product_by_store_id/"+t.storeId+"?page="+a:"/get_product/"+t.userData.id+"?page="+a)}}},[t._v(t._s(a))])])}),t._v(" "),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",on:{click:function(a){return a.preventDefault(),t.loadData(t.storeId?"/get_product_by_store_id/"+t.storeId+"?page="+t.pagination.last_page:"/get_product/"+t.userData.id+"?page="+t.pagination.last_page)}}},[s("i",{staticClass:"bi bi-chevron-compact-right"})])])],2)])],2)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",[a("i",{staticClass:"bi bi-box-seam-fill"}),this._v(" Product management")])}]};var _=s("VU/8")(v,h,!1,function(t){s("ukwO")},"data-v-4685b360",null);a.default=_.exports},QFKi:function(t,a,s){"use strict";var e=s("8Xbe"),i=s("30Od"),r={name:"removeDialog",mixins:[e.a],methods:{deleteItem:function(){var t=this,a="/delete_store/";"Product"!=this.$route.name&&"Store detail"!=this.$route.name||(a="/delete_product/"),this.$api.put(a+this.$attrs.params.id).then(function(a){"Product"==t.$route.name||"Store detail"==t.$route.name?i.a.$emit("reloadProduct"):i.a.$emit("reloadStore"),t.close()}).catch(function(t){console.log(t)})}}},o={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"form-wrap"},[s("h1",{staticClass:"header-form"},[t._v("Delete item")]),t._v(" "),s("div",{staticClass:"container"},[s("p",[t._v("Are u really want to delete this item?")]),t._v(" "),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-success btn-sm",on:{click:t.deleteItem}},[t._v("Yes")]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.close(t.$attrs.params.id)}}},[t._v("No")])])])])},staticRenderFns:[]};var n=s("VU/8")(r,o,!1,function(t){s("XX9Z")},"data-v-9cd0d1f2",null);a.a=n.exports},XX9Z:function(t,a){},jCGP:function(t,a){},ukwO:function(t,a){},zWR1:function(t,a){}});
//# sourceMappingURL=0.5d787774b185d5d6ed42.js.map